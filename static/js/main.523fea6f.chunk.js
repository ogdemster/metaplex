(this["webpackJsonpcandy-machine-mint"]=this["webpackJsonpcandy-machine-mint"]||[]).push([[0],{292:function(e,t,n){},293:function(e,t){},295:function(e,t){},315:function(e,t){},316:function(e,t){},339:function(e,t,n){},386:function(e,t,n){},387:function(e,t,n){"use strict";n.r(t);var r,a=n(0),i=n.n(a),c=n(32),s=n.n(c),o=(n(292),n(26)),u=n(21),l=n(5),d=n(11),p=n(77),b=n(2),h=n.n(b),f=(n(339),n(102)),g=n(470),m=n(493),x=n(465),j=n(489),v=n(471),y=n(466),O=n(6),k=n(248),w=n(169),S=n(97),T=n(51),P=n(255),M=n(461),A=n(502),C=n(4),R=Object(M.a)((function(e){return Object(A.a)({root:{display:"flex",padding:e.spacing(0),"& > *":{margin:e.spacing(.4),width:e.spacing(6),height:e.spacing(6),display:"flex",flexDirection:"column",alignContent:"center",alignItems:"center",justifyContent:"center",background:"#384457",color:"white",borderRadius:5,fontSize:10}},done:{display:"flex",margin:0,marginBottom:e.spacing(.5),height:e.spacing(3.5),padding:e.spacing(1),flexDirection:"column",alignContent:"center",alignItems:"center",justifyContent:"center",background:"#384457",color:"white",borderRadius:5,fontWeight:"bold",fontSize:18},item:{fontWeight:"bold",fontSize:18}})})),E=function(e){var t=e.date,n=e.status,r=e.style,a=e.onComplete,i=R();return t?Object(C.jsx)(P.a,{date:t,onComplete:a,renderer:function(e){var t=e.days,a=e.hours,c=e.minutes,s=e.seconds;return a+=24*t,e.completed?n?Object(C.jsx)("span",{className:i.done,children:n}):null:Object(C.jsxs)("div",{className:i.root,style:r,children:[Object(C.jsxs)(x.a,{elevation:0,children:[Object(C.jsx)("span",{className:i.item,children:a<10?"0".concat(a):a}),Object(C.jsx)("span",{children:"hrs"})]}),Object(C.jsxs)(x.a,{elevation:0,children:[Object(C.jsx)("span",{className:i.item,children:c<10?"0".concat(c):c}),Object(C.jsx)("span",{children:"mins"})]}),Object(C.jsxs)(x.a,{elevation:0,children:[Object(C.jsx)("span",{className:i.item,children:s<10?"0".concat(s):s}),Object(C.jsx)("span",{children:"secs"})]})]})}}):null},K=n(463),D=n(469),I=n(95),N=n(258),B=n(132),W=Object(f.default)(K.a)(r||(r=Object(p.a)(["\n  width: 100%;\n  height: 60px;\n  margin-top: 10px;\n  margin-bottom: 5px;\n  background: linear-gradient(180deg, #604ae5 0%, #813eee 100%);\n  color: white;\n  font-size: 16px;\n  font-weight: bold;\n"]))),L=function(e){var t=e.onMint,n=e.candyMachine,r=e.isMinting,i=e.setIsMinting,c=e.isActive,s=Object(k.b)(),o=Object(N.b)(),u=Object(a.useState)(!1),p=Object(d.a)(u,2),b=p[0],f=p[1],g=Object(I.useGateway)(),m=g.requestGatewayToken,x=g.gatewayStatus,j=Object(a.useState)(-1),v=Object(d.a)(j,2),y=v[0],O=v[1],w=Object(a.useState)(!1),S=Object(d.a)(w,2),T=S[0],P=S[1];Object(a.useEffect)((function(){var e=function(){var e=Object(l.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(B.removeAccountChangeListener)(o.connection,y);case 2:return e.next=4,t();case 4:P(!1),f(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();b&&T&&e()}),[b,T,o.connection,t,y]);var M=function(e){var t=Object(a.useRef)();return Object(a.useEffect)((function(){t.current=e}),[e]),t.current}(x);return Object(a.useEffect)((function(){var e=[I.GatewayStatus.NOT_REQUESTED,I.GatewayStatus.REFRESH_TOKEN_REQUIRED],t=[].concat(e,[I.GatewayStatus.UNKNOWN]);e.find((function(e){return M===e}))&&!t.find((function(e){return x===e}))&&i(!0),console.log("change: ",x)}),[i,M,x]),Object(C.jsx)(W,{disabled:r||!c,onClick:Object(l.a)(h.a.mark((function e(){var r,a,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===n||void 0===n||!n.state.isActive||null===n||void 0===n||!n.state.gatekeeper){e.next=34;break}if("ignREusXmGrscGNUesoU9mxfds9AiYTezUKex2PsZV6"!==(r=n.state.gatekeeper.gatekeeperNetwork.toBase58())){e.next=13;break}if(x!==I.GatewayStatus.ACTIVE){e.next=8;break}return e.next=6,t();case 6:e.next=11;break;case 8:return e.next=10,m();case 10:console.log("after: ",x);case 11:e.next=32;break;case 13:if("ttib7tuX8PTWPqFsmUFQTj78MbRhUmqxidJRDv4hRRE"!==r&&"tibePmPaoTgrs929rWpu755EXaxC7M3SthVCf6GzjZt"!==r){e.next=30;break}return P(!0),e.next=17,Object(B.findGatewayToken)(o.connection,s.publicKey,n.state.gatekeeper.gatekeeperNetwork);case 17:if(null===(a=e.sent)||void 0===a||!a.isValid()){e.next=23;break}return e.next=21,t();case 21:e.next=28;break;case 23:return window.open("https://verify.encore.fans/?gkNetwork=".concat(r),"_blank"),e.next=26,Object(B.getGatewayTokenAddressForOwnerAndGatekeeperNetwork)(s.publicKey,n.state.gatekeeper.gatekeeperNetwork);case 26:i=e.sent,O(Object(B.onGatewayTokenChange)(o.connection,i,(function(){return f(!0)}),"confirmed"));case 28:e.next=32;break;case 30:throw P(!1),new Error("Unknown Gatekeeper Network: ".concat(r));case 32:e.next=37;break;case 34:return e.next=36,t();case 36:P(!1);case 37:case"end":return e.stop()}}),e)}))),variant:"contained",children:null!==n&&void 0!==n&&n.state.isSoldOut?"SOLD OUT":r?Object(C.jsx)(D.a,{}):null!==n&&void 0!==n&&n.state.isPresale||null!==n&&void 0!==n&&n.state.isWhitelistOnly?"WHITELIST MINT":"MINT"})};var U,_,q=n(84),G=Object(f.default)(w.a)(U||(U=Object(p.a)(["\n  width: 100%;\n  height: 60px;\n  margin-top: 10px;\n  margin-bottom: 5px;\n  background: linear-gradient(180deg, #604ae5 0%, #813eee 100%);\n  color: white;\n  font-size: 16px;\n  font-weight: bold;\n"]))),Y=f.default.div(_||(_=Object(p.a)([""]))),F=function(e,t){var n;return e.state.isActive&&null!==(n=e.state.endSettings)&&void 0!==n&&n.endSettingType.date?Object(T.g)(e.state.endSettings.number):Object(T.g)(e.state.goLiveDate?new o.a(e.state.goLiveDate.toNumber()+t):e.state.isPresale?new o.a((new Date).getTime()/1e3):void 0)},z=function(e){var t,n,r,i=Object(a.useState)(!1),c=Object(d.a)(i,2),s=c[0],p=c[1],b=Object(a.useState)(),f=Object(d.a)(b,2),w=f[0],P=f[1],M=Object(a.useState)({open:!1,message:"",severity:void 0}),A=Object(d.a)(M,2),R=A[0],K=A[1],D=Object(a.useState)(!1),N=Object(d.a)(D,2),B=N[0],W=N[1],U=Object(a.useState)(0),_=Object(d.a)(U,2),z=_[0],H=_[1],X=Object(a.useState)(),Q=Object(d.a)(X,2),V=Q[0],J=Q[1],Z=Object(a.useState)(),$=Object(d.a)(Z,2),ee=$[0],te=$[1],ne=Object(a.useState)(!1),re=Object(d.a)(ne,2),ae=re[0],ie=re[1],ce=Object(a.useState)(!1),se=Object(d.a)(ce,2),oe=se[0],ue=se[1],le=Object(a.useState)(!1),de=Object(d.a)(le,2),pe=de[0],be=de[1],he=Object(a.useState)(),fe=Object(d.a)(he,2),ge=fe[0],me=fe[1],xe=Object(a.useState)(!0),je=Object(d.a)(xe,2),ve=je[0],ye=je[1],Oe=Object(a.useState)(),ke=Object(d.a)(Oe,2),we=ke[0],Se=ke[1],Te=e.rpcHost,Pe=Object(k.b)(),Me=e.network,Ae=Object(a.useMemo)((function(){if(Pe&&Pe.publicKey&&Pe.signAllTransactions&&Pe.signTransaction)return{publicKey:Pe.publicKey,signAllTransactions:Pe.signAllTransactions,signTransaction:Pe.signTransaction}}),[Pe]),Ce=Object(a.useCallback)(Object(l.a)(h.a.mark((function t(){var n,r,a,i,c,s,u,l,p,b,f,g,m,x,j,v,y,k,w,M,A,C,R,E,D,I,N,B,L,U,_,q=arguments;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=q.length>0&&void 0!==q[0]?q[0]:"confirmed",Ae){t.next=3;break}return t.abrupt("return");case 3:if(void 0===e.error){t.next=6;break}return K({open:!0,message:e.error,severity:"error",hideDuration:null}),t.abrupt("return");case 6:if(r=new O.Connection(e.rpcHost,n),!e.candyMachineId){t.next=101;break}return t.prev=8,t.next=11,Object(S.d)(Ae,e.candyMachineId,r);case 11:return p=t.sent,t.next=14,r.getSlot();case 14:return b=t.sent,t.next=17,r.getBlockTime(b);case 17:if(f=t.sent,g=(new Date).getTime()/1e3-f,m=(null===p||void 0===p||null===(a=p.state.goLiveDate)||void 0===a?void 0:a.toNumber())+g<(new Date).getTime()/1e3,x=!1,j=!1,v=p.state.price,null===p||void 0===p||!p.state.whitelistMintSettings){t.next=45;break}return p.state.whitelistMintSettings.presale&&(!p.state.goLiveDate||p.state.goLiveDate.toNumber()+g>(new Date).getTime()/1e3)&&(x=!0),p.state.whitelistMintSettings.discountPrice?(me(p.state.whitelistMintSettings.discountPrice),v=p.state.whitelistMintSettings.discountPrice):(me(void 0),p.state.whitelistMintSettings.presale||(p.state.isWhitelistOnly=!0)),y=new o.e.PublicKey(p.state.whitelistMintSettings.mint),t.next=29,Object(T.d)(y,Ae.publicKey);case 29:return k=t.sent[0],t.prev=30,t.next=33,r.getTokenAccountBalance(k);case 33:w=t.sent,j=parseInt(w.value.amount)>0,ie(j),p.state.isWhitelistOnly&&(m=j&&(x||m)),t.next=45;break;case 39:t.prev=39,t.t0=t.catch(30),ie(!1),p.state.isWhitelistOnly&&(m=!1),console.log("There was a problem fetching whitelist token balance"),console.log(t.t0);case 45:if(v=j?v:p.state.price,null===p||void 0===p||!p.state.tokenMint){t.next=68;break}return M=new o.e.PublicKey(p.state.tokenMint),t.next=50,Object(T.d)(M,Ae.publicKey);case 50:return A=t.sent[0],t.prev=51,t.next=54,r.getTokenAccountBalance(A);case 54:C=t.sent,R=new o.a(C.value.amount).gte(v),be(R),m=m&&R,t.next=66;break;case 60:t.prev=60,t.t1=t.catch(51),be(!1),m=!1,console.log("There was a problem fetching SPL token balance"),console.log(t.t1);case 66:t.next=76;break;case 68:return t.t2=o.a,t.next=71,r.getBalance(Ae.publicKey);case 71:t.t3=t.sent,E=new t.t2(t.t3),D=E.gte(v),be(D),m=m&&D;case 76:return null!==p&&void 0!==p&&null!==(i=p.state.endSettings)&&void 0!==i&&i.endSettingType.date&&(J(Object(T.g)(p.state.endSettings.number.add(new o.a(g)))),(new Date).getTime()/1e3>p.state.endSettings.number.toNumber()+g&&(m=!1)),null!==p&&void 0!==p&&null!==(c=p.state.endSettings)&&void 0!==c&&c.endSettingType.amount?(I=Math.min(p.state.endSettings.number.toNumber(),p.state.itemsAvailable),p.state.itemsRedeemed<I?te(I-p.state.itemsRedeemed):(te(0),p.state.isSoldOut=!0)):te(p.state.itemsRemaining),p.state.isSoldOut&&(m=!1),t.next=81,Object(S.e)(e.candyMachineId);case 81:return N=t.sent,B=Object(d.a)(N,1),L=B[0],t.next=86,r.getAccountInfo(L);case 86:U=t.sent,W(p.state.isActive=m),H(g),ue(p.state.isPresale=x),P(p),_=892+(U&&p.state.retainAuthority?182:0)+(p.state.tokenMint?66:0)+(p.state.whitelistMintSettings?34:0)+(null!==(s=p.state.whitelistMintSettings)&&void 0!==s&&null!==(u=s.mode)&&void 0!==u&&u.burnEveryTime?34:0)+(p.state.gatekeeper?33:0)+(null!==(l=p.state.gatekeeper)&&void 0!==l&&l.expireOnUse?66:0),ye(_>1230),t.next=99;break;case 95:t.prev=95,t.t4=t.catch(8),t.t4 instanceof Error?t.t4.message==="Account does not exist ".concat(e.candyMachineId)?K({open:!0,message:"Couldn't fetch candy machine state from candy machine with address: ".concat(e.candyMachineId,", using rpc: ").concat(e.rpcHost,"! You probably typed the REACT_APP_CANDY_MACHINE_ID value in wrong in your .env file, or you are using the wrong RPC!"),severity:"error",hideDuration:null}):t.t4.message.startsWith("failed to get info about account")&&K({open:!0,message:"Couldn't fetch candy machine state with rpc: ".concat(e.rpcHost,"! This probably means you have an issue with the REACT_APP_SOLANA_RPC_HOST value in your .env file, or you are not using a custom RPC!"),severity:"error",hideDuration:null}):K({open:!0,message:"".concat(t.t4),severity:"error",hideDuration:null}),console.log(t.t4);case 99:t.next=102;break;case 101:K({open:!0,message:"Your REACT_APP_CANDY_MACHINE_ID value in the .env file doesn't look right! Make sure you enter it in as plain base-58 address!",severity:"error",hideDuration:null});case 102:case"end":return t.stop()}}),t,null,[[8,95],[30,39],[51,60]])}))),[Ae,e.candyMachineId,e.error,e.rpcHost]),Re=function(){var t=Object(l.a)(h.a.mark((function t(){var n,r,a,i,c,s,o,u,l,d,b,f=arguments;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=f.length>0&&void 0!==f[0]?f[0]:[],r=f.length>1&&void 0!==f[1]?f[1]:[],t.prev=2,p(!0),null===(a=document.getElementById("#identity"))||void 0===a||a.click(),!(Pe.connected&&null!==w&&void 0!==w&&w.program&&Pe.publicKey)){t.next=41;break}if(!ve||void 0!==we){t.next=26;break}return K({open:!0,message:"Please sign account setup transaction",severity:"info"}),t.next=10,Object(S.c)(w,Pe.publicKey);case 10:if(c=t.sent,s={err:!0},!c.transaction){t.next=16;break}return t.next=15,Object(S.b)(c.transaction,e.txTimeout,e.connection,!0);case 15:s=t.sent;case 16:if(!s||s.err){t.next=21;break}Se(c),K({open:!0,message:"Setup transaction succeeded! Please sign minting transaction",severity:"info"}),t.next=24;break;case 21:return K({open:!0,message:"Mint failed! Please try again!",severity:"error"}),p(!1),t.abrupt("return");case 24:t.next=27;break;case 26:K({open:!0,message:"Please sign minting transaction",severity:"info"});case 27:return t.next=29,Object(S.f)(w,Pe.publicKey,n,r,null!==(i=c)&&void 0!==i?i:we);case 29:if(o=t.sent,u={err:!0},l=null,!o){t.next=40;break}return t.next=35,Object(S.b)(o.mintTxId,e.txTimeout,e.connection,!0);case 35:return u=t.sent,t.next=38,w.program.provider.connection.getAccountInfo(o.metadataKey,"processed");case 38:l=t.sent,console.log("Metadata status: ",!!l);case 40:u&&!u.err&&l?(te(d=ee-1),W(w.state.isActive=d>0),w.state.isSoldOut=0===d,Se(void 0),K({open:!0,message:"Congratulations! Mint succeeded!",severity:"success",hideDuration:7e3}),Ce("processed")):u&&!u.err?(K({open:!0,message:"Mint likely failed! Anti-bot SOL 0.01 fee potentially charged! Check the explorer to confirm the mint failed and if so, make sure you are eligible to mint before trying again.",severity:"error",hideDuration:8e3}),Ce()):(K({open:!0,message:"Mint failed! Please try again!",severity:"error"}),Ce());case 41:t.next=49;break;case 43:t.prev=43,t.t0=t.catch(2),b=t.t0.msg||"Minting failed! Please try again!",t.t0.msg?311===t.t0.code?(console.log(t.t0),b="SOLD OUT!",window.location.reload()):312===t.t0.code&&(b="Minting period hasn't started yet."):t.t0.message?t.t0.message.indexOf("0x137")?(console.log(t.t0),b="SOLD OUT!"):t.t0.message.indexOf("0x135")&&(b="Insufficient funds to mint. Please fund your wallet."):b="Transaction timeout! Please try again.",K({open:!0,message:b,severity:"error"}),Ce();case 49:return t.prev=49,p(!1),t.finish(49);case 52:case"end":return t.stop()}}),t,null,[[2,43,49,52]])})));return function(){return t.apply(this,arguments)}}(),Ee=function(e){var t=!B||oe;t&&(w.state.isWhitelistOnly&&!ae&&(t=!1),V&&Date.now()>=V.getTime()&&(t=!1)),console.log(w.state.goLiveDate.toNumber()+e<=(new Date).getTime()/1e3),oe&&w.state.goLiveDate&&w.state.goLiveDate.toNumber()+e<=(new Date).getTime()/1e3&&ue(w.state.isPresale=!1),W(w.state.isActive=t)};return Object(a.useEffect)((function(){Ce()}),[Ae,e.candyMachineId,e.connection,Ce]),Object(a.useEffect)((function(){!function e(){setTimeout((function(){Ce(),e()}),2e4)}()}),[Ce]),Object(C.jsxs)(g.a,{className:"container-fluid",style:{marginTop:100,height:"50vh"},children:[Object(C.jsxs)(v.a,{container:!0,spacing:2,children:[Object(C.jsxs)(v.a,{item:!0,xs:12,md:8,children:[Object(C.jsxs)("h1",{style:{fontSize:"46px",color:"white"},children:["Anime Core ",Object(C.jsx)("br",{})," Collection"]}),Object(C.jsx)("h4",{children:"Mintin live now! Grap your Anime..."})]}),Object(C.jsx)(v.a,{item:!0,xs:12,md:4,children:Object(C.jsx)(g.a,{maxWidth:"xs",style:{position:"relative"},children:Object(C.jsxs)(x.a,{style:{padding:24,paddingBottom:10,backgroundColor:"#151A1F",borderRadius:6},children:[Pe.connected?Object(C.jsxs)(C.Fragment,{children:[w&&Object(C.jsxs)(v.a,{container:!0,direction:"row",justifyContent:"center",wrap:"nowrap",children:[Object(C.jsxs)(v.a,{item:!0,xs:3,children:[Object(C.jsx)(y.a,{variant:"body2",color:"textSecondary",children:"Remaining"}),Object(C.jsx)(y.a,{variant:"h6",color:"textPrimary",style:{fontWeight:"bold"},children:"".concat(ee)})]}),Object(C.jsxs)(v.a,{item:!0,xs:4,children:[Object(C.jsx)(y.a,{variant:"body2",color:"textSecondary",children:ae&&ge?"Discount Price":"Price"}),Object(C.jsx)(y.a,{variant:"h6",color:"textPrimary",style:{fontWeight:"bold"},children:"\u25ce ".concat(ae&&ge?T.c.asNumber(ge):T.c.asNumber(w.state.price))})]}),Object(C.jsx)(v.a,{item:!0,xs:5,children:B&&V&&Date.now()<V.getTime()?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(E,{date:F(w,z),style:{justifyContent:"flex-end"},status:"COMPLETED",onComplete:function(){return Ee(z)}},"endSettings"),Object(C.jsx)(y.a,{variant:"caption",align:"center",display:"block",style:{fontWeight:"bold"},children:"TO END OF MINT"})]}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(E,{date:F(w,z),style:{justifyContent:"flex-end"},status:null!==w&&void 0!==w&&null!==(t=w.state)&&void 0!==t&&t.isSoldOut||V&&Date.now()>V.getTime()?"COMPLETED":oe?"PRESALE":"LIVE",onComplete:function(){return Ee(z)}},"goLive"),oe&&w.state.goLiveDate&&w.state.goLiveDate.toNumber()+z>(new Date).getTime()/1e3&&Object(C.jsx)(y.a,{variant:"caption",align:"center",display:"block",style:{fontWeight:"bold"},children:"UNTIL PUBLIC MINT"})]})})]}),Object(C.jsx)(Y,{children:null!==w&&void 0!==w&&w.state.isActive&&null!==w&&void 0!==w&&w.state.gatekeeper&&Pe.publicKey&&Pe.signTransaction?Object(C.jsx)(I.GatewayProvider,{wallet:{publicKey:Pe.publicKey||new O.PublicKey(S.a),signTransaction:Pe.signTransaction},gatekeeperNetwork:null===w||void 0===w||null===(n=w.state)||void 0===n||null===(r=n.gatekeeper)||void 0===r?void 0:r.gatekeeperNetwork,clusterUrl:Te,cluster:Me,handleTransaction:function(){var t=Object(l.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(p(!0),!n.signatures.find((function(e){return e.publicKey.equals(Pe.publicKey)}))){t.next=17;break}return K({open:!0,message:"Please sign one-time Civic Pass issuance",severity:"info"}),t.prev=4,t.next=7,Pe.signTransaction(n);case 7:n=t.sent,t.next=15;break;case 10:throw t.prev=10,t.t0=t.catch(4),K({open:!0,message:"User cancelled signing",severity:"error"}),p(!1),t.t0;case 15:t.next=18;break;case 17:K({open:!0,message:"Refreshing Civic Pass",severity:"info"});case 18:return t.prev=18,t.next=21,Object(q.c)(e.connection,Pe,n,[],!0,"confirmed");case 21:K({open:!0,message:"Please sign minting",severity:"info"}),t.next=30;break;case 24:throw t.prev=24,t.t1=t.catch(18),K({open:!0,message:"Solana dropped the transaction, please try again",severity:"warning"}),console.error(t.t1),p(!1),t.t1;case 30:return t.next=32,Re();case 32:case"end":return t.stop()}}),t,null,[[4,10],[18,24]])})));return function(e){return t.apply(this,arguments)}}(),broadcastTransaction:!1,options:{autoShowModal:!1},children:Object(C.jsx)(L,{candyMachine:w,isMinting:s,setIsMinting:function(e){return p(e)},onMint:Re,isActive:B||oe&&ae&&pe})}):Object(C.jsx)(L,{candyMachine:w,isMinting:s,setIsMinting:function(e){return p(e)},onMint:Re,isActive:B||oe&&ae&&pe})})]}):Object(C.jsx)(G,{children:"Connect Wallet"}),Object(C.jsx)(y.a,{variant:"caption",align:"center",display:"block",style:{marginTop:7,color:"grey"},children:"Powered by METAPLEX"})]})})})]}),Object(C.jsx)(m.a,{open:R.open,autoHideDuration:void 0===R.hideDuration?6e3:R.hideDuration,onClose:function(){return K(Object(u.a)(Object(u.a)({},R),{},{open:!1}))},children:Object(C.jsx)(j.a,{onClose:function(){return K(Object(u.a)(Object(u.a)({},R),{},{open:!1}))},severity:R.severity,children:R.message})})]})},H=n(499),X=n(500),Q=n(501),V=n(483),J=n(484),Z=n(486),$=n(492),ee=n(263),te=n(485),ne=n(503),re=n(505),ae=n(504),ie=n(506),ce=n(507),se=n(488),oe=n(259),ue=n.n(oe),le=n(494),de=n(497),pe=n(496),be=n(487),he=n(491),fe=n(495),ge=n(261),me=n.n(ge),xe=["Roadmap","Collections","Opensea","Rarible","Youtube","Medium","Discord"],je=["#Roadmap","#Collections","https://opensea.io/collection/acc-v2-1","https://rarible.com/apesinsummer","https://www.youtube.com/channel/UC9WsUIOmL0eEHNV2PxQgHuw","https://medium.com/@0xgreatart","https://discord.gg/fduP9wMA"],ve=["_self","_self","_blank","_blank","_blank","_blank","_blank"],ye=["Dashboard","Logout"],Oe=function(){var e=a.useState(null),t=Object(d.a)(e,2),n=t[0],r=t[1],i=a.useState(null),c=Object(d.a)(i,2),s=c[0],o=c[1],u=function(){r(null)},l=function(){o(null)};return Object(C.jsx)(ne.a,{position:"static",style:{background:"gray"},children:Object(C.jsx)(le.a,{maxWidth:"xl",children:Object(C.jsxs)(ae.a,{disableGutters:!0,children:[Object(C.jsx)("img",{src:"https://avatars.githubusercontent.com/u/58356104?s=400&u=234f01f0c324ba5d72a506102e956fbd07629ce2&v=4",width:50,height:50,alt:"0xgreat.art"}),Object(C.jsxs)(re.a,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[Object(C.jsx)(ie.a,{size:"large","aria-label":"Account","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){r(e.currentTarget)},color:"inherit",children:Object(C.jsx)(ue.a,{})}),Object(C.jsx)(se.a,{id:"menu-appbar",anchorEl:n,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(n),onClose:u,sx:{display:{xs:"block",md:"none"}},children:xe.map((function(e,t){return Object(C.jsxs)(he.a,{onClick:u,children:[Object(C.jsx)(me.a,{}),Object(C.jsxs)(fe.a,{href:"".concat(je[t]),target:"".concat(ve[t]),style:{textDecoration:"none",color:"white"},children:[Object(C.jsx)("br",{}),e]})]},e)}))})]}),Object(C.jsx)(ce.a,{variant:"h5",noWrap:!0,component:"a",href:"",sx:{mr:2,display:{xs:"flex",md:"none"},flexGrow:1,fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:"0xgreat.art"}),Object(C.jsx)(re.a,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:xe.map((function(e,t){return Object(C.jsx)(pe.a,{onClick:u,sx:{my:2,color:"white",display:"block"},href:"".concat(je[t]),target:"".concat(ve[t]),style:{textDecoration:"none",color:"white"},children:e},e)}))}),Object(C.jsxs)(re.a,{sx:{flexGrow:0},children:[Object(C.jsx)(be.a,{title:"Open settings",children:Object(C.jsx)(ie.a,{onClick:function(e){o(e.currentTarget)},sx:{p:0},children:Object(C.jsx)(de.a,{alt:"Remy Sharp",src:"/static/images/avatar/2.jpg"})})}),Object(C.jsx)(se.a,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:s,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(s),onClose:l,children:ye.map((function(e){return Object(C.jsx)(he.a,{onClick:l,children:Object(C.jsx)(ce.a,{textAlign:"center",children:e})},e)}))})]})]})})})},ke=n(12),we=n(22),Se=n(490),Te=n(16),Pe=["children","variant","marked"],Me={center:{h1:"",h2:"OnePirateTypography-markedH2Center",h3:"OnePirateTypography-markedH3Center",h4:"OnePirateTypography-markedH4Center",h5:"",h6:""},left:{h1:"",h2:"",h3:"",h4:"",h5:"",h6:"OnePirateTypography-markedH6Left"},none:{h1:"",h2:"",h3:"",h4:"",h5:"",h6:""}},Ae={h1:"h1",h2:"h1",h3:"h1",h4:"h1",h5:"h3",h6:"h2",subtitle1:"h3"};var Ce=Object(we.a)((function(e){var t=e.children,n=e.variant,r=e.marked,a=void 0===r?"none":r,i=Object(Te.a)(e,Pe),c="";return n&&n in Me[a]&&(c=Me[a][n]),Object(C.jsxs)(ce.a,Object(u.a)(Object(u.a)({variantMapping:Ae,variant:n},i),{},{children:[t,c?Object(C.jsx)("span",{className:c}):null]}))}))((function(e){var t,n=e.theme;return t={},Object(ke.a)(t,"& .".concat(Me.center.h2),{height:4,width:73,display:"block",margin:"".concat(n.spacing(1)," auto 0"),backgroundColor:n.palette.secondary.main}),Object(ke.a)(t,"& .".concat(Me.center.h3),{height:4,width:55,display:"block",margin:"".concat(n.spacing(1)," auto 0"),backgroundColor:n.palette.secondary.main}),Object(ke.a)(t,"& .".concat(Me.center.h4),{height:4,width:55,display:"block",margin:"".concat(n.spacing(1)," auto 0"),backgroundColor:n.palette.secondary.main}),Object(ke.a)(t,"& .".concat(Me.left.h6),{height:2,width:28,display:"block",marginTop:n.spacing(.5),background:"currentColor"}),t})),Re=Object(we.a)("div")((function(e){return{position:"absolute",left:0,right:0,top:0,bottom:0,background:"#000",opacity:.5,transition:e.theme.transitions.create("opacity")}})),Ee=Object(we.a)(Se.a)((function(e){var t,n=e.theme;return t={position:"relative",display:"block",padding:0,borderRadius:0,height:"40vh"},Object(ke.a)(t,n.breakpoints.down("md"),{width:"100% !important",height:100}),Object(ke.a)(t,"&:hover",{zIndex:1}),Object(ke.a)(t,"&:hover .imageBackdrop",{opacity:.15}),Object(ke.a)(t,"&:hover .imageMarked",{opacity:0}),Object(ke.a)(t,"&:hover .imageTitle",{border:"4px solid currentColor"}),Object(ke.a)(t,"& .imageTitle",{position:"relative",padding:"".concat(n.spacing(2)," ").concat(n.spacing(4)," 14px")}),Object(ke.a)(t,"& .imageMarked",{height:3,width:18,background:n.palette.common.white,position:"absolute",bottom:-2,left:"calc(50% - 9px)",transition:n.transitions.create("opacity")}),t})),Ke=[{url:"https://arweave.net/YQY4XBPzc7iDtehMTRu9pvJLx0JExMjoa2yaQha1uPE?ext=png&auto=format&fit=crop&w=400",title:"Anime Core #752",width:"40%"},{url:"https://arweave.net/DcvprtM0YF8X6rvdgp9b3m99S6eqRioK2SOTzPIPwjc?ext=png",title:"Anime Core #705",width:"20%"},{url:"https://gateway.pinata.cloud/ipfs/QmcPrv829fQLqYW6vk5CqnRw2nXaHj5UqVGjsvCX3GqJZe/1461.png",title:"Apes in Summer Uniques #1461",width:"40%"},{url:"https://gateway.pinata.cloud/ipfs/QmcPrv829fQLqYW6vk5CqnRw2nXaHj5UqVGjsvCX3GqJZe/1355.png",title:"Apes in Summer Uniques #1355",width:"38%"},{url:"https://gateway.pinata.cloud/ipfs/QmcPrv829fQLqYW6vk5CqnRw2nXaHj5UqVGjsvCX3GqJZe/1376.png",title:"Apes in Summer Uniques #1376",width:"38%"},{url:"https://arweave.net/XYNU2RhrRRbkaVAXUXRDo0lcS_fhIly4KBHm76xO3u8?ext=png",title:"Anime Core #369",width:"24%"},{url:"https://gateway.pinata.cloud/ipfs/QmcPrv829fQLqYW6vk5CqnRw2nXaHj5UqVGjsvCX3GqJZe/1566.png",title:"Apes in Summer Uniques #1566",width:"40%"},{url:"https://arweave.net/h6uBaxO7i544SkLj1-es5KX5wzjbW9pDJ9K25S0bj0Q?ext=png",title:"Anime Core #66",width:"20%"},{url:"https://gateway.pinata.cloud/ipfs/QmcPrv829fQLqYW6vk5CqnRw2nXaHj5UqVGjsvCX3GqJZe/1367.png",title:"Apes in Summer Uniques #1367",width:"40%"}];function De(){return Object(C.jsxs)(le.a,{component:"section",sx:{mt:8,mb:4},children:[Object(C.jsx)(Ce,{variant:"h4",marked:"center",align:"center",component:"h2",children:"Random items from our collections."}),Object(C.jsx)(re.a,{sx:{mt:8,display:"flex",flexWrap:"wrap"},id:"Collections",children:Ke.map((function(e){return Object(C.jsxs)(Ee,{style:{width:e.width},children:[Object(C.jsx)(re.a,{sx:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundSize:"cover",backgroundPosition:"center 40%",backgroundImage:"url(".concat(e.url,")")}}),Object(C.jsx)(Re,{className:"imageBackdrop"}),Object(C.jsx)(re.a,{sx:{position:"absolute",left:0,right:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",color:"common.white"},children:Object(C.jsxs)(Ce,{component:"h3",variant:"h6",color:"inherit",className:"imageTitle",children:[e.title,Object(C.jsx)("div",{className:"imageMarked"})]})})]},e.title)}))})]})}var Ie=n(498),Ne={display:"flex",flexDirection:"column",alignItems:"center",px:5};var Be,We,Le=function(){return Object(C.jsx)(le.a,{sx:{mt:1,mb:1,display:"flex",position:"relative"},children:Object(C.jsx)(Ie.a,{container:!0,spacing:5,children:Object(C.jsx)(Ie.a,{item:!0,xs:12,md:12,children:Object(C.jsxs)(re.a,{sx:Ne,id:"Roadmap",children:[Object(C.jsx)(Ce,{variant:"h6",sx:{my:5},children:"About the collection"}),Object(C.jsxs)(Ce,{variant:"h5",align:"justify",children:["It should be ensured that people have access to the information they need to be included in this period, where many people have little knowledge and interest, and have difficulty in expressing themselves, but extending from coins to the metaverse and which is one of the necessities of the new age. It seems very difficult to get everyone involved. But what is clear is that in order to involve everyone, it must inform them and make them realize that anything that seems complicated is actually simple and that anyone can do it.",Object(C.jsx)("p",{children:"The NFt world is just the beginning. Sometimes long-term, sometimes short-term responses can be received. While trying to obtain what is known and seen in a short time carries a great risk of loss, good feedback can be obtained as the holder."}),Object(C.jsx)("p",{children:"The nfts that we currently create in polygon and solana networks will gradually continue to spread in other networks. Instead of just creating or selling them, all the production stages will be published via all social media for those who are interested or want to learn about it."}),Object(C.jsx)("p",{children:"This collection of ours is created in the solana network. With the Mint transaction, you can buy it here, as well as on Opensea, the largest marketplace."}),Object(C.jsx)("p",{children:"You can reach our social media accounts below. You can ask questions and request support. Everything to improve and evolve!!!"})]})]})})})})};function Ue(){return Object(C.jsxs)(a.Fragment,{children:["\xa9 ",Object(C.jsx)(fe.a,{color:"inherit",href:"https://0xgreat.art",children:"0xgreat.art"})," ",(new Date).getFullYear()]})}function _e(){return Object(C.jsx)(le.a,{sx:{my:1,display:"flex"},children:Object(C.jsx)(Ie.a,{container:!0,direction:"column",justifyContent:"flex-end",spacing:2,sx:{height:120},alignItems:"center",children:Object(C.jsx)(Ue,{})})})}var qe=Object(ee.a)({palette:{type:"dark"}}),Ge=void 0;var Ye=function(){try{return new o.e.PublicKey("DuiFk2eKsa8hTjEywASPBfDQy9ERS3zKi4sbZxM2hanQ")}catch(e){return void console.log("Failed to construct CandyMachineId",e)}}(),Fe=null!==(Be="mainnet-beta")?Be:"devnet",ze=null!==(We="https://ssc-dao.genesysgo.net/ts")?We:o.e.clusterApiUrl("devnet"),He=new o.e.Connection(ze),Xe=function(){var e=Object(a.useMemo)((function(){return Object(O.clusterApiUrl)(Fe)}),[]),t=Object(a.useMemo)((function(){return[Object(H.a)(),Object(X.a)(),Object(Q.a)(),Object(V.a)({network:Fe}),Object(J.a)({network:Fe})]}),[]);return Object(C.jsx)(te.a,{theme:qe,children:Object(C.jsx)(Z.a,{endpoint:e,children:Object(C.jsx)($.a,{wallets:t,autoConnect:!0,children:Object(C.jsxs)(w.b,{children:[Object(C.jsx)(Oe,{}),Object(C.jsx)(z,{candyMachineId:Ye,connection:He,txTimeout:q.a,rpcHost:ze,network:Fe,error:Ge}),Object(C.jsx)(De,{}),Object(C.jsx)(Le,{}),Object(C.jsx)(_e,{})]})})})})},Qe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,510)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))};n(385),n(386);s.a.render(Object(C.jsx)(i.a.StrictMode,{children:Object(C.jsx)(Xe,{})}),document.getElementById("root")),Qe()},51:function(e,t,n){"use strict";(function(e){n.d(t,"g",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return g}));var r=n(5),a=n(2),i=n.n(a),c=n(26),s=n(42),o=n(6),u=function(e){if(e)return new Date(1e3*e.toNumber())},l=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}),d={format:function(e){return e?l.format(e):"--"},asNumber:function(e){if(e)return e.toNumber()/o.LAMPORTS_PER_SOL}},p=new c.e.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),b=new c.e.PublicKey("gatem74V238djXdzWnJf94Wo1DcnuGkfijbf3AuBhfs"),h=function(){var e=Object(r.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.e.PublicKey.findProgramAddress([n.toBuffer(),s.b.toBuffer(),t.toBuffer()],p);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var t=Object(r.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.e.PublicKey.findProgramAddress([n.toBuffer(),e.from("expire")],b);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=Object(r.a)(i.a.mark((function t(n,r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.e.PublicKey.findProgramAddress([n.toBuffer(),e.from("gateway"),e.from([0,0,0,0,0,0,0,0]),r.toBuffer()],b);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}).call(this,n(17).Buffer)},84:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return b}));var r,a=n(14),i=n(5),c=n(2),s=n.n(c),o=n(6),u=n(119),l=6e4,d=function(){var e=Object(i.a)(s.a.mark((function e(t,n){var r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.confirmTransaction(n,"max");case 2:return e.next=4,t.getParsedConfirmedTransaction(n);case 4:return r=e.sent,a=[],null!==r&&void 0!==r&&r.meta&&r.meta.logMessages&&r.meta.logMessages.forEach((function(e){for(var t,n=/Error: (.*)/gm;null!==(t=n.exec(e));)t.index===n.lastIndex&&n.lastIndex++,t.length>1&&a.push(t[1])})),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();!function(e){e[e.Sequential=0]="Sequential",e[e.Parallel=1]="Parallel",e[e.StopOnFailure=2]="StopOnFailure"}(r||(r={}));var p=function(){var e=Object(i.a)(s.a.mark((function e(t,n,i,c){var l,d,p,b,h,g,m,x,j,v,y,O,k,w,S,T,P,M,A=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=A.length>4&&void 0!==A[4]?A[4]:r.Parallel,d=A.length>5&&void 0!==A[5]?A[5]:"singleGossip",p=A.length>6&&void 0!==A[6]?A[6]:function(e,t){},b=A.length>7&&void 0!==A[7]?A[7]:function(e,t){return!1},h=A.length>8?A[8]:void 0,g=A.length>9&&void 0!==A[9]?A[9]:[],m=A.length>10&&void 0!==A[10]?A[10]:[],n.publicKey){e.next=9;break}throw new u.e;case 9:if(x=g,h){e.next=14;break}return e.next=13,t.getRecentBlockhash(d);case 13:h=e.sent;case 14:j=function(e){var t=i[e],r=c[e];if(0===t.length)return"continue";var s=new o.Transaction;t.forEach((function(e){return s.add(e)})),s.recentBlockhash=h.blockhash,s.setSigners.apply(s,[n.publicKey].concat(Object(a.a)(r.map((function(e){return e.publicKey}))))),r.length>0&&s.partialSign.apply(s,Object(a.a)(r)),x.push(s)},v=0;case 16:if(!(v<i.length)){e.next=23;break}if("continue"!==j(v)){e.next=20;break}return e.abrupt("continue",20);case 20:v++,e.next=16;break;case 23:return x.push.apply(x,Object(a.a)(m)),y=x.filter((function(e){return e.signatures.find((function(e){return e.publicKey.equals(n.publicKey)}))})),O=x.filter((function(e){return!e.signatures.find((function(e){return e.publicKey.equals(n.publicKey)}))})),e.next=28,n.signAllTransactions(y);case 28:k=e.sent,k=O.concat(k),w=[],console.log("Signed txns length",k.length,"vs handed in length",i.length),S=s.a.mark((function e(n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=f({connection:t,signedTransaction:k[n]}),l===r.Parallel){e.next=22;break}return e.prev=2,e.next=5,a.then((function(e){var t=e.txid;e.slot;return p(t,n)}));case 5:w.push(a),e.next=20;break;case 8:if(e.prev=8,e.t0=e.catch(2),console.log("Failed at txn index:",n),console.log("Caught failure:",e.t0),b(k[n],n),l!==r.StopOnFailure){e.next=20;break}return e.t1=n,e.next=17,Promise.all(w);case 17:return e.t2=e.sent,e.t3={number:e.t1,txs:e.t2},e.abrupt("return",{v:e.t3});case 20:e.next=23;break;case 22:w.push(a);case 23:case"end":return e.stop()}}),e,null,[[2,8]])})),T=0;case 34:if(!(T<k.length)){e.next=42;break}return e.delegateYield(S(T),"t0",36);case 36:if("object"!==typeof(P=e.t0)){e.next=39;break}return e.abrupt("return",P.v);case 39:T++,e.next=34;break;case 42:if(l===r.Parallel){e.next=47;break}return e.next=45,Promise.all(w);case 45:return M=e.sent,e.abrupt("return",{number:k.length,txs:M});case 47:return e.t1=k.length,e.next=50,Promise.all(w);case 50:return e.t2=e.sent,e.abrupt("return",{number:e.t1,txs:e.t2});case 52:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),b=function(){var e=Object(i.a)(s.a.mark((function e(t,n,r,i){var c,p,b,h,f,g,m,x,v,y,O,k,w,S,T=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=!(T.length>4&&void 0!==T[4])||T[4],p=T.length>5&&void 0!==T[5]?T[5]:"singleGossip",b=T.length>6&&void 0!==T[6]&&T[6],h=T.length>7?T[7]:void 0,n.publicKey){e.next=6;break}throw new u.e;case 6:if(Array.isArray(r)){e.next=10;break}f=r,e.next=24;break;case 10:if(f=new o.Transaction,r.forEach((function(e){return f.add(e)})),e.t0=h,e.t0){e.next=17;break}return e.next=16,t.getRecentBlockhash(p);case 16:e.t0=e.sent;case 17:if(f.recentBlockhash=e.t0.blockhash,b?(g=f).setSigners.apply(g,Object(a.a)(i.map((function(e){return e.publicKey})))):(m=f).setSigners.apply(m,[n.publicKey].concat(Object(a.a)(i.map((function(e){return e.publicKey}))))),i.length>0&&(x=f).partialSign.apply(x,Object(a.a)(i)),b){e.next=24;break}return e.next=23,n.signTransaction(f);case 23:f=e.sent;case 24:return v=f.serialize(),y={skipPreflight:!0,commitment:p},e.next=28,t.sendRawTransaction(v,y);case 28:if(O=e.sent,k=0,!c){e.next=43;break}return e.next=33,j(O,l,t,p);case 33:if(w=e.sent){e.next=36;break}throw new Error("Timed out awaiting confirmation on transaction");case 36:if(k=(null===w||void 0===w?void 0:w.slot)||0,null===w||void 0===w||!w.err){e.next=43;break}return e.next=40,d(t,O);case 40:throw S=e.sent,console.log(S),new Error("Raw transaction ".concat(O," failed"));case 43:return e.abrupt("return",{txid:O,slot:k});case 44:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),h=function(){return(new Date).getTime()/1e3};function f(e){return g.apply(this,arguments)}function g(){return(g=Object(i.a)(s.a.mark((function e(t){var n,r,a,c,o,u,d,p,b,f,g,x,v;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.signedTransaction,r=t.connection,a=t.timeout,c=void 0===a?l:a,o=n.serialize(),u=h(),d=0,e.next=6,r.sendRawTransaction(o,{skipPreflight:!0});case 6:return p=e.sent,console.log("Started awaiting confirmation for",p),b=!1,Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b||!(h()-u<c)){e.next=6;break}return r.sendRawTransaction(o,{skipPreflight:!0}),e.next=4,y(500);case 4:e.next=0;break;case 6:case"end":return e.stop()}}),e)})))(),e.prev=10,e.next=13,j(p,c,r,"recent",!0);case 13:if(f=e.sent){e.next=16;break}throw new Error("Timed out awaiting confirmation on transaction");case 16:if(!f.err){e.next=19;break}throw console.error(f.err),new Error("Transaction failed: Custom instruction error");case 19:d=(null===f||void 0===f?void 0:f.slot)||0,e.next=47;break;case 22:if(e.prev=22,e.t0=e.catch(10),console.error("Timeout Error caught",e.t0),!e.t0.timeout){e.next=27;break}throw new Error("Timed out awaiting confirmation on transaction");case 27:return g=null,e.prev=28,e.next=31,m(r,n,"single");case 31:g=e.sent.value,e.next=36;break;case 34:e.prev=34,e.t1=e.catch(28);case 36:if(!g||!g.err){e.next=47;break}if(!g.logs){e.next=46;break}x=g.logs.length-1;case 39:if(!(x>=0)){e.next=46;break}if(!(v=g.logs[x]).startsWith("Program log: ")){e.next=43;break}throw new Error("Transaction failed: "+v.slice("Program log: ".length));case 43:--x,e.next=39;break;case 46:throw new Error(JSON.stringify(g.err));case 47:return e.prev=47,b=!0,e.finish(47);case 50:return console.log("Latency",p,h()-u),e.abrupt("return",{txid:p,slot:d});case 52:case"end":return e.stop()}}),e,null,[[10,22,47,50],[28,34]])})))).apply(this,arguments)}function m(e,t,n){return x.apply(this,arguments)}function x(){return(x=Object(i.a)(s.a.mark((function e(t,n,r){var a,i,c,o,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._recentBlockhash(t._disableBlockhashCaching);case 2:return n.recentBlockhash=e.sent,a=n.serializeMessage(),i=n._serialize(a),c=i.toString("base64"),o=[c,{encoding:"base64",commitment:r}],e.next=10,t._rpcRequest("simulateTransaction",o);case 10:if(!(u=e.sent).error){e.next=13;break}throw new Error("failed to simulate transaction: "+u.error.message);case 13:return e.abrupt("return",u.result);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e,t,n){return v.apply(this,arguments)}function v(){return v=Object(i.a)(s.a.mark((function e(t,n,r){var a,c,o,u,l,d=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=d.length>3&&void 0!==d[3]?d[3]:"recent",c=d.length>4&&void 0!==d[4]&&d[4],o=!1,u={slot:0,confirmations:0,err:null},l=0,e.next=7,new Promise(function(){var e=Object(i.a)(s.a.mark((function e(d,p){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){o||(o=!0,console.log("Rejecting for timeout..."),p({timeout:!0}))}),n);try{l=r.onSignature(t,(function(e,t){o=!0,u={err:e.err,slot:t.slot,confirmations:0},e.err?(console.log("Rejected via websocket",e.err),p(u)):(console.log("Resolved via websocket",e),d(u))}),a)}catch(b){o=!0,console.error("WS error in setup",t,b)}case 2:if(o||!c){e.next=8;break}return Object(i.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.getSignatureStatuses([t]);case 3:n=e.sent,u=n&&n.value[0],o||(u?u.err?(console.log("REST error for",t,u),o=!0,p(u.err)):u.confirmations?(console.log("REST confirmation for",t,u),o=!0,d(u)):console.log("REST no confirmations for",t,u):console.log("REST null result for",t,u)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),o||console.log("REST connection error: txid",t,e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))(),e.next=6,y(2e3);case 6:e.next=2;break;case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 7:u=e.sent;try{r.removeSignatureListener(l)}catch(p){}return o=!0,console.log("Returning status",u),e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}function y(e){return new Promise((function(t){return setTimeout(t,e)}))}},97:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return v})),n.d(t,"c",(function(){return O})),n.d(t,"f",(function(){return k}));var r=n(11),a=n(5),i=n(2),c=n.n(i),s=n(26),o=n(42),u=n(6),l=n(84),d=n(51),p=new s.e.PublicKey("cndy3Z4yapfJBmL3ShUp5exZKqR3z33thTzeNMm2gRZ"),b=new s.e.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),h=function(){var e=Object(a.a)(c.a.mark((function e(t,n,r){var i,s,o,u,l=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=l.length>3&&void 0!==l[3]&&l[3],s=!1,o={slot:0,confirmations:0,err:null},u=0,e.next=6,new Promise(function(){var e=Object(a.a)(c.a.mark((function e(u,l){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){s||(s=!0,console.log("Rejecting for timeout..."),l({timeout:!0}))}),n);case 1:if(s||!i){e.next=7;break}return Object(a.a)(c.a.mark((function e(){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.getSignatureStatuses([t]);case 3:n=e.sent,o=n&&n.value[0],s||(o?o.err?(console.log("REST error for",t,o),s=!0,l(o.err)):o.confirmations?(console.log("REST confirmation for",t,o),s=!0,u(o)):console.log("REST no confirmations for",t,o):console.log("REST null result for",t,o)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),s||console.log("REST connection error: txid",t,e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))(),e.next=5,w(2e3);case 5:e.next=1;break;case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 6:o=e.sent;try{r.removeSignatureListener(u)}catch(d){}return s=!0,console.log("Returning status",o),e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),f=function(t,n,r,a){var i=[{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:s.e.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:o.b,isSigner:!1,isWritable:!1},{pubkey:s.e.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new s.e.TransactionInstruction({keys:i,programId:d.b,data:e.from([])})},g=function(){var e=Object(a.a)(c.a.mark((function e(t,n,r){var a,i,o,u,l,d,b;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new s.c(r,t,{preflightCommitment:"processed"}),e.next=3,s.b.fetchIdl(p,a);case 3:return i=e.sent,o=new s.b(i,p,a),e.next=7,o.account.candyMachine.fetch(n);case 7:return u=e.sent,l=u.data.itemsAvailable.toNumber(),d=u.itemsRedeemed.toNumber(),b=l-d,e.abrupt("return",{id:n,program:o,state:{authority:u.authority,itemsAvailable:l,itemsRedeemed:d,itemsRemaining:b,isSoldOut:0===b,isActive:!1,isPresale:!1,isWhitelistOnly:!1,goLiveDate:u.data.goLiveDate,treasury:u.wallet,tokenMint:u.tokenMint,gatekeeper:u.data.gatekeeper,endSettings:u.data.endSettings,whitelistMintSettings:u.data.whitelistMintSettings,hiddenSettings:u.data.hiddenSettings,price:u.data.price,retainAuthority:u.data.retainAuthority}});case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),m=function(){var t=Object(a.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.e.PublicKey.findProgramAddress([e.from("metadata"),b.toBuffer(),n.toBuffer(),e.from("edition")],b);case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=Object(a.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.e.PublicKey.findProgramAddress([e.from("metadata"),b.toBuffer(),n.toBuffer()],b);case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),j=function(){var t=Object(a.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.e.PublicKey.findProgramAddress([e.from("candy_machine"),n.toBuffer()],p);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=Object(a.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.e.PublicKey.findProgramAddress([e.from("collection"),n.toBuffer()],p);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=Object(a.a)(c.a.mark((function t(n,r){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.e.PublicKey.findProgramAddress([e.from("metadata"),b.toBuffer(),n.toBuffer(),e.from("collection_authority"),r.toBuffer()],b);case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),O=function(){var e=Object(a.a)(c.a.mark((function e(t,n){var r,a,i,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.e.Keypair.generate(),e.next=3,Object(d.d)(r.publicKey,n);case 3:return a=e.sent[0],i=[r],e.t0=s.e.SystemProgram,e.t1=n,e.t2=r.publicKey,e.t3=o.a.span,e.next=11,t.program.provider.connection.getMinimumBalanceForRentExemption(o.a.span);case 11:return e.t4=e.sent,e.t5=o.b,e.t6={fromPubkey:e.t1,newAccountPubkey:e.t2,space:e.t3,lamports:e.t4,programId:e.t5},e.t7=e.t0.createAccount.call(e.t0,e.t6),e.t8=o.c.createInitMintInstruction(o.b,r.publicKey,0,n,n),e.t9=f(a,n,n,r.publicKey),e.t10=o.c.createMintToInstruction(o.b,r.publicKey,a,n,[],1),u=[e.t7,e.t8,e.t9,e.t10],e.t11=r,e.t12=a,e.next=23,Object(l.d)(t.program.provider.connection,t.program.provider.wallet,[u],[i],l.b.StopOnFailure,"singleGossip",(function(){}),(function(){return!1}),void 0,[],[]);case 23:return e.t13=e.sent.txs[0].txid,e.abrupt("return",{mint:e.t11,userTokenAccount:e.t12,transaction:e.t13});case 25:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=Object(a.a)(c.a.mark((function e(t,n){var a,i,p,h,g,O,k,w,S,T,P,M,A,C,R,E,K,D,I,N,B,W,L,U,_,q,G,Y,F,z,H,X=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=X.length>2&&void 0!==X[2]?X[2]:[],p=X.length>3&&void 0!==X[3]?X[3]:[],h=X.length>4?X[4]:void 0,g=null!==(a=null===h||void 0===h?void 0:h.mint)&&void 0!==a?a:s.e.Keypair.generate(),e.next=6,Object(d.d)(g.publicKey,n);case 6:if(O=e.sent[0],!t.state.tokenMint){e.next=13;break}return e.next=10,Object(d.d)(t.state.tokenMint,n);case 10:e.t0=e.sent[0],e.next=14;break;case 13:e.t0=n;case 14:if(k=e.t0,w=t.id,S=[],T=[],P=[],console.log("SetupState: ",h),h){e.next=39;break}return P.push(g),e.t1=T.push,e.t2=T,e.t3=s.e.SystemProgram,e.t4=n,e.t5=g.publicKey,e.t6=o.a.span,e.next=30,t.program.provider.connection.getMinimumBalanceForRentExemption(o.a.span);case 30:e.t7=e.sent,e.t8=o.b,e.t9={fromPubkey:e.t4,newAccountPubkey:e.t5,space:e.t6,lamports:e.t7,programId:e.t8},e.t10=e.t3.createAccount.call(e.t3,e.t9),e.t11=o.c.createInitMintInstruction(o.b,g.publicKey,0,n,n),e.t12=f(O,n,n,g.publicKey),e.t13=o.c.createMintToInstruction(o.b,g.publicKey,O,n,[],1),e.t14=[e.t10,e.t11,e.t12,e.t13],e.t1.apply.call(e.t1,e.t2,e.t14);case 39:if(!t.state.gatekeeper){e.next=54;break}return e.t15=S,e.next=43,Object(d.f)(n,t.state.gatekeeper.gatekeeperNetwork);case 43:if(e.t16=e.sent[0],e.t17={pubkey:e.t16,isWritable:!0,isSigner:!1},e.t15.push.call(e.t15,e.t17),!t.state.gatekeeper.expireOnUse){e.next=54;break}return S.push({pubkey:d.a,isWritable:!1,isSigner:!1}),e.t18=S,e.next=51,Object(d.e)(t.state.gatekeeper.gatekeeperNetwork);case 51:e.t19=e.sent[0],e.t20={pubkey:e.t19,isWritable:!1,isSigner:!1},e.t18.push.call(e.t18,e.t20);case 54:if(!t.state.whitelistMintSettings){e.next=61;break}return M=new s.e.PublicKey(t.state.whitelistMintSettings.mint),e.next=58,Object(d.d)(M,n);case 58:A=e.sent[0],S.push({pubkey:A,isWritable:!0,isSigner:!1}),t.state.whitelistMintSettings.mode.burnEveryTime&&(S.push({pubkey:M,isWritable:!0,isSigner:!1}),S.push({pubkey:n,isWritable:!1,isSigner:!0}));case 61:return t.state.tokenMint&&(S.push({pubkey:k,isWritable:!0,isSigner:!1}),S.push({pubkey:n,isWritable:!1,isSigner:!0})),e.next=64,x(g.publicKey);case 64:return C=e.sent,e.next=67,m(g.publicKey);case 67:return R=e.sent,e.next=70,j(w);case 70:return E=e.sent,K=Object(r.a)(E,2),D=K[0],I=K[1],console.log(S.map((function(e){return e.pubkey.toBase58()}))),e.t21=T,e.next=78,t.program.instruction.mintNft(I,{accounts:{candyMachine:w,candyMachineCreator:D,payer:n,wallet:t.state.treasury,mint:g.publicKey,metadata:C,masterEdition:R,mintAuthority:n,updateAuthority:n,tokenMetadataProgram:b,tokenProgram:o.b,systemProgram:u.SystemProgram.programId,rent:s.e.SYSVAR_RENT_PUBKEY,clock:s.e.SYSVAR_CLOCK_PUBKEY,recentBlockhashes:u.SYSVAR_SLOT_HASHES_PUBKEY,instructionSysvarAccount:s.e.SYSVAR_INSTRUCTIONS_PUBKEY},remainingAccounts:S.length>0?S:void 0});case 78:return e.t22=e.sent,e.t21.push.call(e.t21,e.t22),e.next=82,v(w);case 82:return N=e.sent,B=Object(r.a)(N,1),W=B[0],e.next=87,t.program.provider.connection.getAccountInfo(W);case 87:if(!e.sent||!t.state.retainAuthority){e.next=118;break}return e.prev=89,e.next=92,t.program.account.collectionPda.fetch(W);case 92:return L=e.sent,console.log(L),U=L.mint,e.next=97,y(U,W);case 97:if(_=e.sent,console.log(U),!U){e.next=113;break}return e.next=102,x(U);case 102:return q=e.sent,e.next=105,m(U);case 105:return G=e.sent,console.log("Collection PDA: ",W.toBase58()),console.log("Authority: ",t.state.authority.toBase58()),e.t23=T,e.next=111,t.program.instruction.setCollectionDuringMint({accounts:{candyMachine:w,metadata:C,payer:n,collectionPda:W,tokenMetadataProgram:b,instructions:s.e.SYSVAR_INSTRUCTIONS_PUBKEY,collectionMint:U,collectionMetadata:q,collectionMasterEdition:G,authority:t.state.authority,collectionAuthorityRecord:_}});case 111:e.t24=e.sent,e.t23.push.call(e.t23,e.t24);case 113:e.next=118;break;case 115:e.prev=115,e.t25=e.catch(89),console.error(e.t25);case 118:return Y=[T],F=[P],e.prev=120,e.next=123,Object(l.d)(t.program.provider.connection,t.program.provider.wallet,Y,F,l.b.StopOnFailure,"singleGossip",(function(){}),(function(){return!1}),void 0,i,p);case 123:return z=e.sent.txs.map((function(e){return e.txid})),H=z[0],e.abrupt("return",{mintTxId:H,metadataKey:C});case 128:e.prev=128,e.t26=e.catch(120),console.log(e.t26);case 131:return e.abrupt("return",null);case 132:case"end":return e.stop()}}),e,null,[[89,115],[120,128]])})));return function(t,n){return e.apply(this,arguments)}}(),w=function(e){return new Promise((function(t){return setTimeout(t,e)}))}}).call(this,n(17).Buffer)}},[[387,1,2]]]);
//# sourceMappingURL=main.523fea6f.chunk.js.map